<!DOCTYPE html>
<html>
  <head>
    <title>EmulatorJS</title>

    <link rel = icon href = docs/favicon.ico sizes = "16x16 32x32 48x48 64x64"
    type = image/vnd.microsoft.icon>
    <meta
      name="viewport"
      content="width = device-width, initial-scale = 1"
    />

    <style>
      body,
      html {
        height: 100%;
      }

      body {
        font-family: monospace;
        font-weight: bold;
        font-size: 20px;
        margin: 0;
        overflow: hidden;
        background-color: #222;
      }

      body {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #display {
        width: 100%;
        height: 100%;
      }
    </style>
    <!-- <script src="https://cdn.jsdelivr.net/npm/vconsole@latest/dist/vconsole.min.js"></script> -->
  </head>

  <body>
    <div id="display">
      <div id="game"></div>
    </div>
    <script>
      // VConsole 默认会挂载到 `window.VConsole` 上
      // var vConsole = new window.VConsole()
    </script>
    <script>
      const params = new URLSearchParams(window.location.search)
      const gameUrl = decodeURIComponent(params.get('game-url'))
      const gameName = params.get('game-name')
      const lang = params.get('lang')
      const core = params.get('core')

      const script = document.createElement('script')

      window.EJS_player = '#game'
      window.EJS_gameName = gameName
      window.EJS_biosUrl = ''
      window.EJS_gameUrl = gameUrl
      window.EJS_core = core || 'nes'
      window.EJS_pathtodata = 'data/'
      window.EJS_startOnLoaded = true
      window.EJS_language = lang
      window.EJS_CacheLimit = 1024 ** 3 * 10

      script.src = 'data/loader.js'
      document.body.appendChild(script)
    </script>
  </body>
</html>
